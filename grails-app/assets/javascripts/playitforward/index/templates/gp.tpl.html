
<div role="main">

    <div id="gp-dropdown">
        <select name="eventSelect" id="eventSelect" ng-model="GPs.currentEvent"
                ng-options="option.name for option in GPs.allEvents track by option.id">

        </select>
    </div>

    <!--<h2 class="form-signin-heading">{{GPs.currentEvent.name}}:</h2>-->

    <div id="bounty-tabs">
        <ul>
            <li ng-class="tabClass('summary')" ng-click="activate('summary')">Overview</li>
            <li ng-class="tabClass('playmat')" ng-click="activate('playmat')" >Playmat</li>
            <li ng-class="tabClass('bounties')" ng-click="activate('bounties')">Bounties</li>
            <li ng-class="tabClass('race')" ng-click="activate('race')"
                ng-if="!isFutureGP()">Standings</li>
        </ul>
    </div>

    <div id="gp-summary" ng-show="isActiveTab('summary')">

        <div ng-show="isFutureGP()" >

            {{GPs.currentEvent.name}} will begin on {{gpStartDateString()}}.

            <br/>

            May the odds be ever in your favor.

        </div>

        <div ng-if="!isFutureGP()" >

            <ul id="winner-stats">
                <li><b>Name:</b> {{GPs.eventWinners[GPs.currentEvent.id].name}}</li>
                <li><b>Rank:</b> {{GPs.eventWinners[GPs.currentEvent.id].ranking}}</li>
                <li><b>Record:</b> {{GPs.eventWinners[GPs.currentEvent.id].record}}</li>
            </ul>

            <img class="winner-image" ng-src="{{getWinnerImageName()}}" />

            <p>
                {{GPs.eventWinners[GPs.currentEvent.id].blurb}}
            </p>

        </div>

    </div>

    <div id="gp-playmat" ng-show="isActiveTab('playmat')">

        Behold!  The prize mat for {{GPs.currentEvent.name}}.

        <img class="playmat-image" ng-src="{{getImageName()}}" />

        As always the mats themselves are provided by our heroes at <a href="http://gamermats.com/">GamerMats</a>.
        Check them out if you want a playmat that is all your own.

    </div>

    <div id="gp-bounties" ng-show="isActiveTab('bounties')">

        <div ng-hide="bountiesExist()" >

            <a href="mailto:play_it_forward@outlook.com" class="navigation-link">
                Contact Us
            </a> about donating additional bounties.

        </div>

        <p ng-show="bountiesExist()">
            In addition to the Play It Forward playmat, members of the community have
            donated the following prizes to the leading lady in day two:
        </p>

        <div class='has-error' ng-show="bountyArray.errorMessage">
            Error: Unable to load Bounties.
        </div>

        <table class="table table-bordered table-striped" ng-show="bountiesExist()">

            <thead>
            <tr>
                <th>
                    <a href ng-click="bountyArray.sortType = 'donor'; bountyArray.sortReverse = !bountyArray.sortReverse">
                        Donor
                        <span ng-show="sortType == 'donor' && !bountyArray.sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'donor' && bountyArray.sortReverse" class="fa fa-caret-up"></span>
                    </a>
                </th>
                <th>
                    <a href ng-click="bountyArray.sortType = 'prize'; bountyArray.sortReverse = !bountyArray.sortReverse">
                        Prize
                        <span ng-show="sortType == 'prize' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'prize' && sortReverse" class="fa fa-caret-up"></span>
                    </a>
                </th>
            </tr>
            </thead>

            <tbody>
            <tr ng-repeat="bounty in bountyArray.bounties | orderBy:bountyArray.sortType:bountyArray.sortReverse | filter:GPs.currentEvent.name">
                <td>{{ bounty.donor }}</td>
                <td>{{ bounty.prize }}</td>
            </tr>
            </tbody>

        </table>

    </div>

    <div id="gp-race" ng-show="isActiveTab('race')">

        <iframe src="{{getHorseraceSrc()}}" frameborder="0" width="100%" height="600px"></iframe>

    </div>

</div>

